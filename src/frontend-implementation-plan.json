{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix live URL placeholder risk, align canonical URL to published domain, and add in-app load indicator",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Harden the shipped frontend so the live URL serves the Valentine UI reliably (correct HTML entry, correct asset references, and updated deployment verification steps).",
      "acceptanceCriteria": [
        "Opening the live URL in an incognito/private window renders the Valentine UI (card with ‚ÄúWill you be my Valentine, Sunidhi? üíï‚Äù) and not the Caffeine placeholder.",
        "Hard refresh (Ctrl/Cmd+Shift+R) still shows the Valentine UI.",
        "The main document returns HTTP 200 and the JS/CSS bundles load without 404s (verified in DevTools Network tab)."
      ],
      "file_operations": [
        {
          "path": "frontend/index.html",
          "operation": "modify",
          "description": "Ensure the production HTML entry is aligned with the published domain and remains a valid SPA entry (root mount + module script), minimizing chances of stale/wrong published HTML causing the placeholder experience."
        },
        {
          "path": "frontend/DEPLOYMENT_CHECKLIST.md",
          "operation": "modify",
          "description": "Update the live URL and verification steps to reference the published domain (https://npt-for-sunidhi.caffeine.xyz) and include explicit checks for HTML 200 + bundle 200s to quickly diagnose placeholder vs real app loads."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Align canonical/OG URL configuration and production URL sanity logging to the published domain https://npt-for-sunidhi.caffeine.xyz.",
      "acceptanceCriteria": [
        "frontend/src/config/publicSiteUrl.ts PUBLIC_SITE_URL is updated to exactly https://npt-for-sunidhi.caffeine.xyz.",
        "frontend/index.html <link rel=\"canonical\"> and <meta property=\"og:url\"> are updated to exactly https://npt-for-sunidhi.caffeine.xyz.",
        "frontend/src/App.tsx production console log for ‚ÄúExpected canonical‚Äù matches https://npt-for-sunidhi.caffeine.xyz.",
        "After deployment, View Page Source on the live site shows canonical/og:url set to https://npt-for-sunidhi.caffeine.xyz."
      ],
      "file_operations": [
        {
          "path": "frontend/src/config/publicSiteUrl.ts",
          "operation": "modify",
          "description": "Update PUBLIC_SITE_URL constant to exactly https://npt-for-sunidhi.caffeine.xyz so runtime metadata sync and any redirects share the correct canonical domain."
        },
        {
          "path": "frontend/index.html",
          "operation": "modify",
          "description": "Update <link rel=\"canonical\"> and <meta property=\"og:url\"> to exactly https://npt-for-sunidhi.caffeine.xyz so page source metadata matches the published domain."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Update the production sanity log for ‚ÄúExpected canonical‚Äù to use the same value as PUBLIC_SITE_URL (and therefore match https://npt-for-sunidhi.caffeine.xyz)."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Add a small, non-intrusive in-app ‚ÄúApp loaded‚Äù indicator (with build timestamp/version string) that appears only when the React app mounts.",
      "acceptanceCriteria": [
        "When the React app mounts, a small text indicator appears (e.g., in a corner or footer) saying ‚ÄúApp loaded‚Äù (English) and includes a build timestamp or version string.",
        "The indicator is visible on mobile screens and does not block interaction with the Valentine prompt buttons.",
        "The indicator is present only when the actual app is served (i.e., it naturally will not appear on the Caffeine placeholder page)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/AppLoadedIndicator.tsx",
          "operation": "create",
          "description": "Create a lightweight indicator component that renders fixed-position, non-interactive text: ‚ÄúApp loaded‚Äù plus a build timestamp/version string (computed once per build/module load) and is visually unobtrusive on mobile."
        },
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Wire the new AppLoadedIndicator component into the root UI so it renders after the app mounts without affecting the Valentine prompt interactions."
        },
        {
          "path": "frontend/index.css",
          "operation": "modify",
          "description": "Add/adjust minimal global utility styling as needed to keep the indicator readable and unobtrusive across light/dark themes without interfering with existing Valentine theme styling."
        }
      ]
    }
  ]
}